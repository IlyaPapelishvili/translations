# Выпуск Rust 1.43.0

Команда Rust рада сообщить о выпуске новой версии, 1.43.0. Rust — это язык программирования, позволяющий каждому создавать надёжное и эффективное программное обеспечение.

Если вы установили предыдущую версию Rust средствами `rustup`, то для обновления до версии 1.43.0 вам достаточно выполнить следующую команду:

```console
rustup update stable
```

Если у вас ещё не установлен `rustup`, вы можете [установить его](https://www.rust-lang.org/install.html) с соответствующей страницы нашего веб-сайта, а также посмотреть [подробные примечания к выпуску](https://github.com/rust-lang/rust/blob/master/RELEASES.md#version-1430-2020-04-23) на GitHub.

## Что вошло в стабильную версию 1.43.0

В данном релиз достаточно мало значительных изменений, он не содержит нововведений. Мы стабилизировали некоторые новые API, улучшили производительность компилятора и добавили некоторые изменения в макросы. Чтобы узнать об изменениях, не вошедших в анонс, смотрите [подробные примечания к выпуску](https://github.com/rust-lang/rust/blob/master/RELEASES.md#version-1430-2020-04-23).

### Фрагменты `item`

Вы можете использовать фрагменты `item` встраивать `item` в тело типажей, реализаций или внешних блоков. Например:

```rust
macro_rules! mac_trait {
    ($i:item) => {
        trait T { $i }
    }
}
mac_trait! {
    fn foo() {}
}
```

### Type inference around primitives

The type inference around primitives, references, and binary operations was improved. A code sample makes this easier to understand: this code fails to compile on Rust 1.42, but compiles in Rust 1.43.

```rust
let n: f32 = 0.0 + &0.0;
```

In Rust 1.42, you would get an error that would say "hey, I don't know how to add an `f64` and an `&f64` with a result of `f32`." The algorithm now correctly decides that both `0.0` and `&0.0`s should be `f32`s instead.

### Изменения в библиотеке

[Мы можем напрямую использовать ассоциированные к целым числами и числам с плавающей точкой константы](https://github.com/rust-lang/rust/pull/68952/), вместо того, чтобы импортировать модуль. Теперь мы можем писать `u32::MAX` или `f32::NAN` без `use std::u32;` и `use std::f32;`.

Также добавлен [новый модуль `primitive`](https://github.com/rust-lang/rust/pull/67637/) который реэкспортирует примитивные типы Rust. Он может пригодиться, когда вы пишите макрос и хотите быть уверенным, что типы не будут затенены.

Ещё мы стабилизировали шесть новых API:

- [`Once::is_completed`](https://doc.rust-lang.org/std/sync/struct.Once.html#method.is_completed)
- [`f32::LOG10_2`](https://doc.rust-lang.org/std/f32/consts/constant.LOG10_2.html)
- [`f32::LOG2_10`](https://doc.rust-lang.org/std/f32/consts/constant.LOG2_10.html)
- [`f64::LOG10_2`](https://doc.rust-lang.org/std/f64/consts/constant.LOG10_2.html)
- [`f64::LOG2_10`](https://doc.rust-lang.org/std/f64/consts/constant.LOG2_10.html)
- [`iter::once_with`](https://doc.rust-lang.org/std/iter/fn.once_with.html)

### Другие изменения

[Синтаксис](https://github.com/rust-lang/rust/blob/master/RELEASES.md#version-1430-2020-04-23), [пакетный менеджер Cargo](https://github.com/rust-lang/cargo/blob/master/CHANGELOG.md#cargo-143-2020-04-23) и [анализатор Clippy](https://github.com/rust-lang/rust-clippy/blob/master/CHANGELOG.md#rust-143) также претерпели некоторые изменения.

## Участники 1.43.0

Множество людей собрались вместе, чтобы создать Rust 1.43.0. Мы не смогли бы сделать это без всех вас, [спасибо](https://thanks.rust-lang.org/rust/1.43.0/)!
